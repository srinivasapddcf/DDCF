<div class="card">
  <div class="card-header p-2">
    <h5 class="mb-0">FARMER REGISTRATION STATUS</h5>
  </div>
  <div class="card-body">
    <div class="row">
      <div class="col-md-12" align="right">
        <button
          *ngIf="
            personDetails.UID_NUM !== null &&
            personDetails.UID_NUM !== '' &&
            personDetails.UID_NUM !== undefined
          "
          type="button"
          class="btn btn-primary btn-sm"
          (click)="btnMonthlyPouringDetails()"
        >
          MONTHLY MILK POURING REPORT
        </button>
      </div>
      <div class="col-md-5 offset-3">
        <div class="form-group">
          <div class="ah-radio-buttons" (change)="onSelectionChange()">
            <div class="custom-control custom-radio custom-control-inline">
              <input
                class="custom-control-input"
                type="radio"
                name="inputRadio"
                id="inputRadio1"
                value="1"
                [(ngModel)]="inputRadio"
              />
              <label class="custom-control-label" for="inputRadio1">
                AADHAAR NUMBER
              </label>
            </div>

            <div class="custom-control custom-radio custom-control-inline">
              <input
                class="custom-control-input"
                type="radio"
                name="inputRadio"
                id="inputRadio2"
                value="2"
                [(ngModel)]="inputRadio"
              />
              <label class="custom-control-label" for="inputRadio2">
                FARMER CODE
              </label>
            </div>
            <div class="custom-control custom-radio custom-control-inline">
              <input
                class="custom-control-input"
                type="radio"
                name="inputRadio"
                id="inputRadio3"
                value="3"
                [(ngModel)]="inputRadio"
              />
              <label class="custom-control-label" for="inputRadio3">
                BANK ACCOUNT NO
              </label>
            </div>
          </div>
          <input
            id="uidNum"
            type="password"
            class="form-control"
            [(ngModel)]="uidNum"
          
            placeholder="{{ inputPlaceHolder }}"
            maxlength="12"
            autocomplete="off"
            NumbersOnly
            [allowDecimals]="false"
            [allowSign]="false" (keyup)="uidNummaskIputData($event.target.value)"
             
          />
          
          <input
            id="uidNum"
            type="text"
            class="form-control"
            [(ngModel)]="uidNum"
            placeholder="{{ inputPlaceHolder }}"
            maxlength="15"
            autocomplete="off"
            NumbersOnly
            [allowDecimals]="false"
            [allowSign]="false"
          />
        </div>
      </div>

      <div class="col-md-3 pt-4" align="left">
        <button
          type="button"
          class="btn btn-success btn-sm"
          (click)="btnUidDetails()"
        >
          CHECK STATUS
        </button>
      </div>
    </div>

    <div
      *ngIf="
        personDetails.UID_NUM !== null &&
        personDetails.UID_NUM !== '' &&
        personDetails.UID_NUM !== undefined
      "
    >
      <h5 class="sub-heading pb-0">
        <label>Farmer Registration Details</label>
      </h5>

      <div class="row px-4">
        <div class="col-md-3">
          <div class="form-group">
            <label>
              NAME :
              <span class="text-success">
                <b>{{ personDetails.FARMER_NAME }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>
              CODE :
              <span class="text-success">
                <b>{{ personDetails.FARMER_CODE }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label
              >MOBILE NUMBER :
              <span class="text-success">
                <b>{{ personDetails.MOBILE_NUMBER }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label
              >DISTRICT :
              <span class="text-success">
                <b>{{ personDetails.DISTRICT }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label
              >MANDAL NAME :
              <span class="text-success">
                <b>{{ personDetails.MANDAL_NAME }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label
              >RSK NAME :
              <span class="text-success">
                <b>{{ personDetails.RBK_NAME }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label
              >VILLAGE NAME :
              <span class="text-success">
                <b>{{ personDetails.VILLAGE_NAME }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>
              BANK ACCOUNT NUMBER :
              <span class="text-success">
                <b>{{ personDetails.ACCOUNT_NUMBER }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label
              >IFSC CODE :
              <span class="text-success">
                <b>{{ personDetails.IFSC_CODE }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label
              >BANK NAME :
              <span class="text-success">
                <b>{{ personDetails.BANK_NAME }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label
              >BRANCH NAME :
              <span class="text-success">
                <b>{{ personDetails.BANK_BRANCH }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label
              >BANK PIN CODE :
              <span class="text-success">
                <b>{{ personDetails.BANK_PINCODE }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>
              NO OF TIMES BANK ACCOUNT UPDATED :
              <span class="text-success">
                <b>{{ personDetails.TOTAL_TIMES_UPDATED }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label
              >PAN CARD NO :
              <span class="text-success">
                <b>{{
                  personDetails.PAN_CARD === null
                    ? "NA"
                    : personDetails.PAN_CARD
                }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3" *ngIf="personDetails.PASSBOOK_IMG !== null">
          <label>BANK PASSBOOK IMAGE :</label>
          <img
            [src]="'data:image/jpeg;base64,' + bankImage"
            style="cursor: pointer"
            class="img-thumbnail mr-3"
            (click)="btnImage(bankImage)"
          />
        </div>

        <div class="col-md-3" *ngIf="personDetails.PASSBOOK_IMG === null">
          <div class="form-group">
            <label
              >BANK PASSBOOK IMAGE :
              <span class="text-success">
                <b>NA</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label
              >NO OF MILCH ANIMALS :
              <span class="text-success">
                <b>{{ personDetails.NO_OF_MILCH_ANIMALS }}</b>
              </span>
            </label>
          </div>
        </div>
      </div>

      <h5 class="sub-heading pb-0"><label>Registered By</label></h5>

      <div class="row px-4">
        <div class="col-md-3">
          <div class="form-group">
            <label>
              NAME :
              <span class="text-success">
                <b>{{ personDetails.REGI_BY_NAME }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>
              DESIGNATION :
              <span class="text-success">
                <b>{{ personDetails.REGI_DESIGNATION }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>
              DATE :
              <span class="text-success">
                <b>{{ personDetails.INSERTED_DATE }}</b>
              </span>
            </label>
          </div>
        </div>
      </div>

      <h5 class="sub-heading pb-0"><label>Updated By</label></h5>

      <div class="row px-4">
        <div class="col-md-3">
          <div class="form-group">
            <label>
              NAME :
              <span class="text-success">
                <b>{{ personDetails.UPDATED_BY_NAME }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>
              DESIGNATION :
              <span class="text-success">
                <b>{{ personDetails.UPDATED_BY_DESIGNATION }}</b>
              </span>
            </label>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>
              DATE :
              <span class="text-success">
                <b>{{ personDetails.UPDATED_DATE }}</b>
              </span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="popup-modal" *ngIf="BankPassBookPopUp">
  <div class="popup-content">
    <div class="popup-header">
      <h4 class="title">BANK PASSBOOK IMAGE UPDATE</h4>
      <a
        type="button"
        class="close"
        (click)="BankPassBookPopUp = false"
        style="cursor: pointer"
      >
        <span>×</span>
      </a>
    </div>

    <div class="popup-body">
      <div class="row justify-content-center align-items-center">
        <div class="col-md-12">
          <div class="form-group">
            <label for="passBookImgUpload">
              Bank PassBook Image Upload <span style="color: red">*</span>
            </label>
            <input
              type="file"
              class="form-control p-0"
              id="passBookImgUpload"
              (change)="onPassBookImageChange($event)"
              accept="image/*"
              #passBookImgUpload
              autocomplete="off"
            />
          </div>
        </div>
      </div>
    </div>

    <div class="popup-footer justify-content-center">
      <button
        type="button"
        class="btn btn-outline-success btn-sm btn-rounded"
        (click)="btnImageUpdate()"
      >
        UPDATE
      </button>
      <button
        type="button"
        class="btn btn-outline-danger btn-sm btn-rounded"
        (click)="BankPassBookPopUp = false"
      >
        Close
      </button>
    </div>
  </div>
</div>
<div class="popup-modal" [hidden]="!monthlypouringReportPopUp">
  <div class="popup-content" style="min-width: 75%">
    <div class="popup-header">
      <h4 class="title">MONTHLY MILK POURING REPORT</h4>
      <a
        type="button"
        class="close"
        (click)="monthlypouringReportPopUp = false"
        style="cursor: pointer"
      >
        <span>×</span>
      </a>
    </div>
    <div class="popup-body">
      <div class="row justify-content-center align-items-center">
        <div class="col-md-12 ">
          <button
            type="button"
            class="btn btn-success btn-sm pull-right"
            (click)="btnExcel()"
          >
            <i class="fa fa-file-excel-o mr-2" aria-hidden="true"></i>
            DOWNLOAD EXCEL
          </button>
        </div>

        <div
          class="col-md-12 table-responsive"
          [hidden]="monthlypouringDetails?.length < 1"
        >
          <table
            class="table table-striped ah-table text-center"
            datatable
            [dtOptions]="dtOptions"
            [dtTrigger]="dtTrigger"
          >
            <thead class="bg-success text-white">
              <tr>
                <th>S.No.</th>
                <th>YEAR</th>
                <th>MONTH</th>
                <th>NO OF DAYS MILK POURED</th>
                <th>COW MILK IN LITERS</th>
                <th>BUFFALO MILK IN LITERS</th>
                <th>AVG SNF</th>
                <th>AVG FAT</th>
                <th>TOTAL AMOUNT</th>
              </tr>
            </thead>
            <tbody *ngIf="monthlypouringDetails?.length > 0">
              <tr *ngFor="let obj of monthlypouringDetails; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ obj.YEAR_VALUE }}</td>
                <td>{{ obj.MONTH_DISPLAY }}</td>
                <td>{{ obj.NO_OF_DAYS_POURED | indianNumber }}</td>
                <td>{{ obj.TOTAL_COW_MILK_LTR | indianNumber}}</td>
                <td>{{ obj.TOTAL_BUFFALO_MILK_LTR | indianNumber }}</td>
                <td>{{ obj.AVG_SNF }} %</td>
                <td>{{ obj.AVG_FAT }} %</td>
                <td>{{ obj.TOTAL_AMOUNT | indianNumber }}</td>
              </tr>
            </tbody>
            <tbody *ngIf="monthlypouringDetails?.length > 0">
              <tr>
                <td>--</td>
                <td>TOTAL</td>
                <td>--</td>
                <td>{{ reportTotals.NO_OF_DAYS_POURED | indianNumber }}</td>
                <td>{{ reportTotals.TOTAL_COW_MILK_LTR | indianNumber }}</td>
                <td>{{ reportTotals.TOTAL_BUFFALO_MILK_LTR | indianNumber }}</td>
                <td>{{ reportTotals.AVG_SNF }}</td>
                <td>{{ reportTotals.AVG_FAT }}</td>
                <td>{{ reportTotals.TOTAL_AMOUNT | indianNumber }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>